parameters:
  - name: jdkVersion
    displayName: JDK Version Number [LTS 17]
    type: string
    default: 17
    values:
      - 17
      - 21 #scheduled for release on September 19, 2023
  - name: sonarCloudProjectName
    displayName: Project Name [terraform-azuread-appregistration-api]
    type: string
    default: terraform-azuread-appregistration-api

trigger:
  branches:
    include:
      - main

pool:
  vmImage: ubuntu-latest

resources:
  repositories:
  - repository: DevSecOps_Templates
    name: DevSecOps/templates
    type: git
    ref: dev

name: $(date:yyyyMMdd)$(rev:.r)

steps:
  - template: sonarCloud/terraform.yml@DevSecOps_Templates
    parameters:
      jdkVersion: ${{ parameters.jdkVersion }}
      sonarCloudProjectName: ${{ parameters.sonarCloudProjectName }}